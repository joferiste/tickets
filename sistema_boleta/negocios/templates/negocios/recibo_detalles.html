<!-- administracion/recibo_detalles.html -->
{% extends 'core/base.html' %}
{% load static %}
{% load adds %}

{% block title  %} Detalles de recibo {% endblock %}
{% block page_title %} Detalles de recibo {% endblock %}

{% block content %}
<div class="main-content">
    <div class="recibo-detalles">
        <link rel="stylesheet" href="{% static 'negocios/css/recibo_detalle.css' %}">
        <h2>Detalles del Recibo: {{ recibo.correlativo }}</h2>
        
        <div class="detalle-section">
            <h3>Información del Recibo</h3>
            <table class="detalle-tabla">
                <tr>
                    <th>UUID</th>
                    <td>{{ recibo.uuid }}</td>
                </tr>
                <tr>
                    <th>Fecha de Generación</th>
                    <td>{{ recibo.fechaGeneracion|date:"d/m/Y H:i" }}</td>
                </tr>
                <tr>
                    <th>Estado</th>
                    <td>{{ recibo.estado.nombre }}</td>
                </tr>
                <tr>
                    <th>Enviado</th>
                    <td>
                        {% if recibo.enviado %}
                            Sí ({{ recibo.fechaEnvio|date:"d/m/Y H:i" }})
                        {% else %}
                            No
                        {% endif %}
                    </td>
                </tr>
            </table>
        </div>

        <div class="detalle-section">
            <h3>Información de la Transacción</h3>
            <table class="detalle-tabla">
                <tr>
                    <th>ID</th>
                    <td>{{ transaccion.idTransaccion }}</td>
                </tr>
                <tr>
                    <th>Período</th>
                    <td>{{ transaccion.periodo_pagado|periodo_legible }}</td>
                </tr>
                <tr>
                    <th>Monto</th>
                    <td>Q. {{ transaccion.monto|formato_q }}</td>
                </tr>
                <tr>
                    <th>Estado</th>
                    <td>{{ transaccion.estado }}</td>
                </tr>
            </table>
        </div>

        <div class="detalle-section">
            <h3>Historial de Envíos</h3>
            <table class="detalle-tabla">
                <tr>
                    <th>Mensaje</th>
                    <td>{{ recibo.mensajeEnvio|default:"Sin historial de envíos" }}</td>
                </tr>
            </table>
        </div>
    </div>
</div>

{% endblock %}